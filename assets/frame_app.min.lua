local a=require('data.min')local b=require('battery.min')local c=require('camera.min')local d=require('sprite.min')local e=require('code.min')CAMERA_SETTINGS_MSG=0x0d;HOTDOG_MSG=0x0e;HOTDOG_SPRITE=0x20;HOTDOG_TEXT=0x21;NOT_HOTDOG_SPRITE=0x22;NOT_HOTDOG_TEXT=0x23;a.parsers[CAMERA_SETTINGS_MSG]=c.parse_camera_settings;a.parsers[HOTDOG_MSG]=e.parse_code;a.parsers[HOTDOG_SPRITE]=d.parse_sprite;a.parsers[HOTDOG_TEXT]=d.parse_sprite;a.parsers[NOT_HOTDOG_SPRITE]=d.parse_sprite;a.parsers[NOT_HOTDOG_TEXT]=d.parse_sprite;function clear_display()frame.display.text(" ",1,1)frame.display.show()frame.sleep(0.04)end;function app_loop()clear_display()local f=0;while true do local g=a.process_raw_items()if g>0 then if a.app_data[CAMERA_SETTINGS_MSG]~=nil then rc,err=pcall(c.camera_capture_and_send,a.app_data[CAMERA_SETTINGS_MSG])if rc==false then print(err)end;a.app_data[CAMERA_SETTINGS_MSG]=nil end;if a.app_data[HOTDOG_MSG]~=nil then if a.app_data[HOTDOG_MSG].value==1 then if a.app_data[HOTDOG_SPRITE]~=nil then local h=a.app_data[HOTDOG_SPRITE]frame.display.bitmap(450,136,h.width,2^h.bpp,0,h.pixel_data)end;if a.app_data[HOTDOG_TEXT]~=nil then local h=a.app_data[HOTDOG_TEXT]frame.display.bitmap(203,166,h.width,2^h.bpp,9,h.pixel_data)end else if a.app_data[NOT_HOTDOG_SPRITE]~=nil then local h=a.app_data[NOT_HOTDOG_SPRITE]frame.display.bitmap(450,136,h.width,2^h.bpp,0,h.pixel_data)end;if a.app_data[NOT_HOTDOG_TEXT]~=nil then local h=a.app_data[NOT_HOTDOG_TEXT]frame.display.bitmap(69,166,h.width,2^h.bpp,2,h.pixel_data)end end;frame.display.show()a.app_data[HOTDOG_MSG]=nil end end;f=b.send_batt_if_elapsed(f,120)frame.sleep(0.1)end end;app_loop()